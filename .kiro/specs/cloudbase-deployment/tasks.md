# CloudBase部署实施任务列表

## 任务概述

将智能语言学习助手以最小代码修改的方式部署到腾讯云CloudBase平台，保持现有代码结构不变，仅添加必要的部署配置和适配器代码。

## 实施任务

- [ ] 1. 创建CloudBase部署配置文件
  - 创建cloudbaserc.json配置文件，定义前端静态托管和后端容器化部署
  - 配置前端构建命令和输出路径
  - 配置后端服务名称、路径和容器参数
  - _需求: 1.2, 2.1, 9.1_

- [-] 2. 创建Docker容器化配置
  - 编写Dockerfile实现后端服务容器化
  - 配置Node.js运行环境和依赖安装
  - 设置基本启动命令
  - _需求: 2.1_

- [ ] 3. 配置前端环境变量和构建脚本
  - 创建.env.production文件配置生产环境API端点
  - 修改vite.config.ts添加环境变量支持
  - 在package.json中添加生产构建和部署脚本
  - _需求: 1.4, 8.6, 9.1_

- [ ] 4. 实现CloudBase存储适配器
  - 创建StorageAdapter接口定义存储操作
  - 实现CloudBaseStorageAdapter类处理云存储操作
  - 实现LocalStorageAdapter类保持开发环境兼容
  - 添加环境变量控制存储适配器选择
  - _需求: 4.1, 4.5_

- [ ] 5. 集成存储适配器到现有后端代码
  - 在文件上传控制器中集成存储适配器
  - 替换现有的本地文件存储调用
  - 确保现有业务逻辑和API接口不变
  - _需求: 4.1, 4.2_

- [ ] 6. 配置后端环境变量
  - 添加CloudBase相关环境变量配置
  - 配置DeepSeek API密钥环境变量
  - 设置存储相关配置
  - _需求: 3.1, 3.2_

- [ ] 7. 配置基本CORS支持
  - 配置CORS中间件支持跨域请求
  - 设置允许的域名和请求方法
  - _需求: 8.2_

- [ ] 8. 添加基本健康检查端点
  - 实现/api/health健康检查接口
  - 返回服务运行状态
  - _需求: 5.1_

- [ ] 9. 创建部署脚本
  - 安装CloudBase CLI工具
  - 编写部署命令脚本
  - _需求: 9.1_

- [ ] 10. 执行部署测试和验证
  - 执行前端构建和部署测试
  - 验证后端容器启动和API访问
  - 测试前后端通信和文件上传功能
  - 验证AI处理和结果下载流程
  - _需求: 8.1, 8.3, 8.4, 9.2_